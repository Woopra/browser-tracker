!function(){"use strict";function s(){return(s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}var a="__woopraid",r=["source","medium","content","campaign","term"],n=["com.au","net.au","org.au","co.hu","com.ru","ac.za","net.za","com.za","co.za","co.uk","org.uk","me.uk","net.uk"],i="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",o=new RegExp(a+"=([^&#]+)"),c="pv",u="click",h="download",l="mousemove",d="outgoing",f="auto_decorate",m="campaign_once",p="context",g="cookie_domain",v="cookie_expire",w="cookie_name",k="cookie_path",_="cross_domain",y="domain",b="download_pause",C="download_tracking",D="hide_campaign",x="hide_xdm_data",P="idle_threshold",I="idle_timeout",N="ignore_query_url",U="map_query_params",O="outgoing_ignore_subdomain",E="outgoing_pause",T="outgoing_tracking",S="personalization",R="ping",j="ping_interval",A="save_url_hash",W="third_party",L="use_cookies";function F(){for(var t="",e=0;e<12;e++){var n=Math.floor(Math.random()*i.length);t+=i.substring(n,n+1)}return t}function H(){return null}function z(t,e){var n="string"==typeof t?e||{}:t||{};if(n.el)return n.el;if("string"==typeof t){if(document.querySelectorAll)return document.querySelectorAll(t);if("#"===t[0])return document.getElementById(t.substr(1));if("."===t[0])return document.getElementsByClassName(t.substr(1))}}function M(t){return void 0===t}var $=Object.prototype.toString;function B(t){if("function"==typeof t)return!0;if("object"!=typeof t)return!1;var e=$.call(t);return"[object Function]"===e||"[object AsyncFunction]"===e||"[object GeneratorFunction]"===e||"[object Proxy]"===e}var Q={};function q(t,e,n){t.addEventListener&&t.addEventListener(e,n)}function K(t,e,n){var i=t.instanceName;Q[e]||(Q[e]={}),(Q[e][i]=t).__l&&(t.__l[e]||(t.__l[e]=[]),t.__l[e].push(n))}function G(t){return!!t&&new RegExp("(?:^|;\\s*)"+encodeURIComponent(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)}var t=Object.freeze({getItem:function(t){return t&&decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null},setItem:function(t,e,n,i,o,a){if(!t||/^(?:expires|max\-age|path|domain|secure)$/i.test(t))return!1;var r="";if(n)switch(n.constructor){case Number:r=n===1/0?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+n;break;case String:r="; expires="+n;break;case Date:r="; expires="+n.toUTCString()}return document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)+r+(o?"; domain="+o:"")+(i?"; path="+i:"")+(a?"; secure":""),!0},removeItem:function(t,e,n){return!!G(t)&&(document.cookie=encodeURIComponent(t)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(n?"; domain="+n:"")+(e?"; path="+e:""),!0)},hasItem:G,keys:function(){for(var t=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),e=t.length,n=0;n<e;n++)t[n]=decodeURIComponent(t[n]);return t}});function J(t){t&&t.parentNode&&t.parentNode.removeChild(t)}var e;var V=((e={})[f]=void 0,e[b]=void 0,e[C]=!1,e[O]=!0,e[E]=void 0,e[T]=!1,e),X={};function Y(){return X.location("hostname")}X.docCookies=t,X.location=function(t,e){if(!M(window.location[t])){if(M(e))return window.location[t];window.location[t]=e}},X.historyReplaceState=window.history&&window.history.replaceState?function(t,e,n){return window.history.replaceState(t,e,n)}:function(){},X.hideUrlParams=function(t){var e=new RegExp("[?&]+((?:"+t.join("|")+")[^=&]*)=([^&#]*)","gi"),n=X.location("href").replace(e,"");return X.historyReplaceState(null,null,n),n},X.getUrlParams=function(){var i={},t=X.location("href");return t&&t.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(t,e,n){i[e]=decodeURIComponent(n.split("+").join(" "))}),i},X.buildUrlParams=function(t,e){void 0===e&&(e="");var n=[];if(M(t))return t;for(var i in t)t.hasOwnProperty(i)&&("undefined"===t[i]||"null"===t[i]||M(t[i])||n.push(""+e+encodeURIComponent(i)+"="+encodeURIComponent(t[i])));return n.join("&")},X.getCustomData=function(t,e){void 0===e&&(e="wv_");var n=X.getUrlParams();for(var i in n)if(n.hasOwnProperty(i)){var o=n[i];if(i.substring(0,e.length)===e){var a=i.substring(e.length);t.call(this,a,o)}}},X.getDomain=function(t){void 0===t&&(t=Y());var e=t.substring(t.lastIndexOf(".",t.lastIndexOf(".")-1)+1);return-1!==n.indexOf(e)?t.substring(t.lastIndexOf(".",t.indexOf(e)-2)+1):e},X.getHostnameNoWww=function(){var t=Y();return 0===t.indexOf("www.")?t.replace("www.",""):t},X.isOutgoingLink=function(t){var e=Y(),n=X.getDomain(e);return!(t===e||t.replace(/^www\./,"")===e.replace(/^www\./,"")||V[O]&&n===X.getDomain(t)||X.startsWith(t,"javascript")||""===t||"#"===t)},X.hideCrossDomainId=function(){return X.hideUrlParams([a])},X.mapQueryParams=function(t){var e=X.getUrlParams(),n={};for(var i in t){var o=e[i];M(o)||(n[t[i]]=o)}return n},X.redirect=function(t){X.location("href",t)},X.getCampaignData=function(){for(var t=X.getUrlParams(),e={},n=0;n<r.length;n++){var i=r[n],o=t["utm_"+i]||t["woo_"+i];M(o)||(e["campaign_"+("campaign"===i?"name":i)]=o)}return e},X.hideCampaignData=function(){return X.hideUrlParams(["wv_","woo_","utm_"])},X.leftClick=function(t){return void 0===t&&(t=window.event),(!M(t.which)&&1===t.which||!M(t.button)&&0===t.button)&&!t.metaKey&&!t.altKey&&!t.ctrlKey&&!t.shiftKey},X.randomString=F,X.getElement=z,X.loadScript=function(t,e){void 0===e&&(e=H);var n=document.createElement("script");n.type="text/javascript",n.async=!0,M(n.onreadystatechange)?(n.onload=function(){e(),J(n)},n.onerror=function(){J(n)}):n.onreadystatechange=function(){!function(t){return 4===t||"complete"===t||"loaded"===t}(this.readyState)||(e(),J(n))},n.src=t,document.body?document.body.appendChild(n):document.head.appendChild(n)},X.removeScript=J,X.serializeForm=function(t,e){if(void 0===e&&(e={}),t&&"FORM"===t.nodeName){for(var n=e.exclude||[],i={},o=t.elements.length-1;0<=o;o-=1)if(!(""===t.elements[o].name||-1<n.indexOf(t.elements[o].name)))switch(t.elements[o].nodeName){case"INPUT":switch(t.elements[o].type){case"text":case"hidden":case"button":case"reset":case"submit":i[t.elements[o].name]=t.elements[o].value;break;case"checkbox":case"radio":t.elements[o].checked&&(i[t.elements[o].name]=t.elements[o].value)}break;case"TEXTAREA":i[t.elements[o].name]=t.elements[o].value;break;case"SELECT":switch(t.elements[o].type){case"select-one":i[t.elements[o].name]=t.elements[o].value;break;case"select-multiple":for(var a=t.elements[o].options.length-1;0<=a;a-=1)t.elements[o].options[a].selected&&(i[t.elements[o].name]=t.elements[o].options[a].value)}break;case"BUTTON":switch(t.elements[o].type){case"reset":case"submit":case"button":i[t.elements[o].name]=t.elements[o].value}}return i}},X._on=K,X._fire=function(t){var e,n,i=Q[t];if(i)for(var o in i)if(i.hasOwnProperty(o)&&(n=(e=i[o])&&e.__l)&&n[t])for(var a=0;a<n[t].length;a++)n[t][a].apply(this,Array.prototype.slice.call(arguments,1))},X.attachEvent=q,X.startsWith=function(t,e){return 0===t.indexOf(e)},X.endsWith=function(t,e){return-1!==t.indexOf(e,t.length-e.length)};var Z=function(){function t(t){var e;this.visitorData={},this.sessionData={},this.options=((e={}).app="js-client",e[L]=!0,e[R]=!0,e[j]=12e3,e[I]=3e5,e[P]=1e4,e[b]=V[b]||200,e[E]=V[E]||200,e[C]=!1,e[T]=!1,e[O]=!0,e[D]=!1,e[x]=!1,e[m]=!1,e[W]=!1,e[A]=!0,e[_]=!1,e[N]=!1,e[U]={},e[w]="wooTracker",e[g]="."+X.getHostnameNoWww(),e[k]="/",e[v]=new Date((new Date).setDate((new Date).getDate()+730)),e[S]=!0,e),this.instanceName=t||"woopra",this.idle=0,this.cookie="",this.last_activity=new Date,this.loaded=!1,this.dirtyCookie=!1,this.sentCampaign=!1,this.version=11,t&&""!==t&&(window[t]=this)}var e=t.prototype;return e.init=function(){var t=this;this.__l={},this._processQueue("config"),this._setupCookie(),this._bindEvents(),setTimeout(function(){return t._processQueue()},1),this.loaded=!0;var e=this.config("initialized");B(e)&&e(this.instanceName),this.config(x)&&X.hideCrossDomainId()},e._processQueue=function(t){var e=window.__woo?window.__woo[this.instanceName]:e;if((e=window._w?window._w[this.instanceName]:e)&&e._e)for(var n=e._e,i=0;i<n.length;i++){var o=n[i];M(o)||!this[o[0]]||!M(t)&&t!==o[0]||this[o[0]].apply(this,Array.prototype.slice.call(o,1))}},e._setupCookie=function(){var t=this.getUrlId();this.cookie=this.getCookie(),t&&(this.cookie=t),(!this.cookie||this.cookie.length<1)&&(this.cookie=F()),X.docCookies.setItem(this.config(w),this.cookie,this.config(v),this.config(k),this.config(g)),this.dirtyCookie=!0},e._bindEvents=function(){var n=this;K(this,l,function(t,e){return n.moved(t,e)}),K(this,h,function(t){return n.downloaded(t)}),K(this,d,function(t){return n.outgoing(t)}),K(this,f,function(t){return n.autoDecorate(t)})},e._dataSetter=function(t,e,n){if(M(e))return t;if(M(n)){if("string"==typeof e)return t[e];if("object"==typeof e)for(var i in e)e.hasOwnProperty(i)&&(X.startsWith(i,"cookie_")&&(this.dirtyCookie=!0),t[i]=e[i])}else X.startsWith(e,"cookie_")&&(this.dirtyCookie=!0),t[e]=n;return this},e._push=function(t){void 0===t&&(t={});var e=[["visitorData","cv_"],["eventData","ce_"],["sessionData","cs_"]],n=[],i=this.getEndpoint(t.endpoint);this.getVisitorUrlData(),this.config(D)&&X.hideCampaignData(),n.push(X.buildUrlParams(this.getOptionParams())),t.eventName&&n.push("event="+t.eventName),this.config(S)||n.push("close=true");for(var o=0;o<e.length;o++){var a=e[o],r=a[0],s=a[1],c=t[r];if(c){var u=X.buildUrlParams(c,s);u&&n.push(u)}}if(this.config(p))try{var h=JSON.stringify(this.config(p));n.push(p+"="+encodeURIComponent(h))}catch(t){}var l=i+"?"+n.join("&");X.loadScript(l,t.callback)},e.getVisitorUrlData=function(){X.getCustomData.call(this,this.identify,"wv_")},e.getCookie=function(){return X.docCookies.getItem(this.config(w))},e.getProtocol=function(){var t=this.config("protocol");return t&&""!==t?t+":":""},e.getEndpoint=function(t){void 0===t&&(t="");var e=this.getProtocol();if(this.config(W)&&!this.config(y))throw new Error("Error: `domain` is not set.");var n=this.config(W)?"tp/"+this.config(y):"";return t&&!X.endsWith(t,"/")&&(t+="/"),n&&!X.startsWith(t,"/")&&(n+="/"),e+"//www.woopra.com/track/"+n+t},e.config=function(t,e){var n=this._dataSetter(this.options,t,e);return n===this&&(this.options[j]=Math.max(6e3,Math.min(this.options[j],6e4)),V[T]=this.options[T],V[E]=this.options[E],V[C]=this.options[C],V[b]=this.options[b],V[f]=M(V[f])&&this.options[_]?this.options[_]:V[f],V[O]=this.options[O],this.dirtyCookie&&this.loaded&&this._setupCookie()),n},e.visit=function(t,e){return this._dataSetter(this.sessionData,t,e)},e.identify=function(t,e){return this._dataSetter(this.visitorData,t,e)},e.call=function(t){B(this[t])&&this[t].apply(this,Array.prototype.slice.call(arguments,1))},e.track=function(t,e){var n,i,o={},a="",r=arguments[arguments.length-1];"function"==typeof r&&(i=r),this.config(m)&&this.sentCampaign||(o=s({},o,{},X.getCampaignData()),this.sentCampaign=!0),o=s({},o,{},X.mapQueryParams(this.config(U))),B(r)&&(i=r),M(t)||t===i?a=c:M(e)||e===i?("string"==typeof t&&(a=t),"object"==typeof t&&(t.name&&t.name===c&&(a=c),this._dataSetter(o,t))):(this._dataSetter(o,e),a=t),a===c&&(o.url=o.url||this.getPageUrl(),o.title=o.title||this.getPageTitle(),o.domain=o.domain||this.getDomainName(),o.uri=o.uri||this.getURI(),this.config(A)&&""!==(n=o.hash||this.getPageHash())&&"#"!==n&&(o.hash=n)),this._push({endpoint:"ce",visitorData:this.visitorData,sessionData:this.sessionData,eventName:a,eventData:o,callback:i}),this.startPing()},e.trackForm=function(t,e,n){var i,o=this;void 0===t&&(t="Tracked Form");function a(e,n,t,i){q(e,"submit",function(t){o.trackFormHandler(t,e,n,r)})}var r="string"==typeof e?n||{}:e||{};if((i=r.elements?r.elements:z(e,r))&&0<i.length)for(var s in i)a(i[s],t)},e.trackFormHandler=function(t,e,n,i){void 0===i&&(i={});var o=!1;if(!e.getAttribute("data-tracked")){var a=X.serializeForm(e,i);if(B(i.identify)){var r=i.identify(a)||{};r&&this.identify(r)}i.noSubmit?this.track(n,a,function(){B(i.callback)&&i.callback(a)}):(t.preventDefault(),t.stopPropagation(),e.setAttribute("data-tracked",1),this.track(n,a,function(){o=!0,B(i.callback)&&i.callback(a),e.submit()}),setTimeout(function(){o||e.submit()},250))}},e.trackClick=function(t,e,n,i){var a=this;void 0===t&&(t="Item Clicked"),void 0===i&&(i={});function o(e,n,i,o){q(e,u,function(t){a.trackClickHandler(t,e,n,i,o)})}var r=[];if(r=i.elements?i.elements:z(e,i))for(var s=0;s<r.length;s++)o(r[s],t,n,i)},e.trackClickHandler=function(t,e,n,i,o){var a=!1;e.getAttribute("data-tracked")||(o.noNav?this.track(n,i):(t.preventDefault(),e.setAttribute("data-tracked",1),this.track(n,i,function(){a=!0,B(o.callback)&&o.callback(),e.click()}),setTimeout(function(){a||e.click()},250)))},e.startPing=function(){var t=this;M(this.pingInterval)&&(this.pingInterval=setInterval(function(){t.ping()},this.config(j)))},e.stopPing=function(){M(this.pingInterval)||(clearInterval(this.pingInterval),delete this.pingInterval)},e.ping=function(){this.config(R)&&this.idle<this.config(I)?this._push({endpoint:"ping"}):this.stopPing();var t=new Date;return t-this.last_activity>this.config(P)&&(this.idle=t-this.last_activity),this},e.push=function(t){return this._push({endpoint:"identify",visitorData:this.visitorData,sessionData:this.sessionData,callback:t}),this},e.sleep=function(){},e.moved=function(t,e){this.last_activity=e,this.idle=0},e.downloaded=function(t){this.track(h,{url:t})},e.outgoing=function(t){this.track(d,{url:t})},e.autoDecorate=function(t){var e=this.config(_);if(e){var n;if("string"==typeof e)n=-1<t.hostname.indexOf(e);else if(e.push)for(var i=0;i<e.length;i++)if(-1!==t.hostname.indexOf(e[i])){n=!0;break}if(n){var o=this.decorate(t);o&&(t.href=o)}}},e.reset=function(){X.docCookies.removeItem(this.config(w),this.config(k),this.config(g)),this.cookie=null,this._setupCookie()},e.decorate=function(t){var e,n,i,o;if("string"==typeof t?((e=document.createElement("a")).href=t,n=e.search?"&":"?"):t&&t.href&&(e=t),e)return n=e.search?"&":"?",i=e.pathname&&"/"===e.pathname.charAt(0)?e.pathname:"/"+e.pathname,o=e.hostname+(e.port&&""!==e.port&&"80"!==e.port&&"0"!==e.port?":"+e.port:""),e.protocol+"//"+o+i+e.search+n+a+"="+this.cookie+e.hash},e.undecorate=function(t){var e=new RegExp("[?&]+(?:"+a+")=([^&#]*)","gi"),n=t;if(t&&t.href&&(n=t.href),n)return n.replace(e,"")},e.getPageUrl=function(){return this.config(N)?X.location("pathname"):""+X.location("pathname")+X.location("search")},e.getPageHash=function(){return X.location("hash")},e.getPageTitle=function(){return 0===document.getElementsByTagName("title").length?"":document.getElementsByTagName("title")[0].innerHTML},e.getDomainName=function(){return X.location("hostname")},e.getURI=function(){return X.location("href")},e.getUrlId=function(t){void 0===t&&(t=X.location("href"));var e=t.match(o);if(e&&e[1])return e[1]},e.getOptionParams=function(){var t={project:this.config(y)||X.getHostnameNoWww(),instance:this.instanceName,meta:X.docCookies.getItem("wooMeta")||"",screen:window.screen.width+"x"+window.screen.height,language:window.navigator.browserLanguage||window.navigator.language||"",app:this.config("app"),referer:document.referrer};return this.config(y)||(t._warn="no_domain",X.getHostnameNoWww()!==X.getDomain()&&(t._warn+=",domain_mismatch")),this.config(L)&&(t.cookie=this.getCookie()||this.cookie),this.config("ip")&&(t.ip=this.config("ip")),t},e.dispose=function(){for(var t in this.stopPing(),this.__l)this.__l.hasOwnProperty(t)&&(e=t,n=this.instanceName,Q[e][n]=null);var e,n;if(this.__l=null,!M(window[this.instanceName]))try{delete window[this.instanceName]}catch(t){window[this.instanceName]=void 0}},t}(),tt=X.attachEvent,et=X._fire;window.WoopraTracker=Z,window.WoopraLoadScript=X.loadScript,tt(document,"mousedown",function(t){var e;if(et(l,t,new Date),V[f]){for(e=t.srcElement||t.target;!(M(e)||null===e||e.tagName&&"a"===e.tagName.toLowerCase());)e=e.parentNode;M(e)||null===e||et(f,e)}}),tt(document,u,function(t){var e,n,i=t.srcElement||t.target;if(X.leftClick(t)&&et(u,t,i),V[C]||V[T]){for(;!(M(i)||null===i||i.tagName&&"a"===i.tagName.toLowerCase());)i=i.parentNode;M(i)||null===i||i.getAttribute("data-woopra-tracked")||(n=(e=i).pathname.match(/(?:doc|dmg|eps|svg|xls|ppt|pdf|xls|zip|txt|vsd|vxd|js|css|rar|exe|wma|mov|avi|wmv|mp3|mp4|m4v)($|\&)/),V[C]&&n&&(et(h,e.href),"_blank"!==e.target&&X.leftClick(t)&&(t.preventDefault(),t.stopPropagation(),e.setAttribute("data-woopra-tracked",!0),setTimeout(function(){e.click()},V[b]))),V[T]&&!n&&X.isOutgoingLink(e.hostname)&&(et(d,e.href),"_blank"!==e.target&&X.leftClick(t)&&(t.preventDefault(),t.stopPropagation(),e.setAttribute("data-woopra-tracked",!0),setTimeout(function(){e.click()},V[E]))))}}),tt(document,l,function(t){et(l,t,new Date)}),M(window.exports)||(X.Tracker=Z,window.exports.Woopra=X,B(window.woopraLoaded)&&(window.woopraLoaded(),window.woopraLoaded=null));var nt=window.__woo||window._w;if(!M(nt))for(var it in nt)if(nt.hasOwnProperty(it)){var ot=new Z(it);ot.init(),M(window.woopraTracker)&&(window.woopraTracker=ot)}}();
//# sourceMappingURL=wpt.min.js.map
